<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:schema="http://typo3.org/ns/Brotkrueml/Schema/ViewHelpers" data-namespace-typo3-fluid="true">

<f:layout name="Default" />
<f:section name="Main">
    <f:asset.css identifier="content-block-quoteimage" href="CB:quoteimage/dist/Frontend.css" />
    <f:asset.script identifier="content-block-quoteimage" src="CB:quoteimage/dist/Frontend.js" />

    <schema:type.creativeWork text="{quote -> f:format.stripTags()}">
        <schema:type.person -as="author" name="{author}" jobTitle="{role}">
            <f:for each="{authorimage}" as="img">
                <schema:property -as="image" value="{f:uri.image(image:img, absolute:1)}" />
            </f:for>
        </schema:type.person>
    </schema:type.creativeWork>

    <figure
        class="c-skom-quote {f:if(condition: '{data.background_color_class}', then: 'text-bg-{data.background_color_class}')}">
        <f:if condition="{authorimage}">
            <div class="c-skom-quote__authorimage">
                <f:for each="{authorimage}" as="img">
                    <f:image class="rounded-circle" image="{img}" width="150c" height="150c-33" />
                </f:for>
            </div>
        </f:if>
        <div class="c-skom-quote__text">
            <blockquote class="c-skom-quote__quote">
                <f:format.html parseFuncTSPath="lib.parseFunc_RTE">{quote}</f:format.html>
            </blockquote>
            <figcaption class="c-skom-quote__author">
                <div class="c-skom-quote__name">{author}</div>
                <div class="c-skom-quote__jobtitle">
                    <small>{role}</small>
                </div>
            </figcaption>
        </div>
        <div class="c-skom-quote__icon">
            <img src="/{cb.distPath}Images/quotation-marks.svg" width="40" height="40" />
        </div>
    </figure>

</f:section>

</html>
